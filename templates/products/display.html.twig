{% extends 'layout/base.html.twig' %}
{% block title %}Chick Chick Shop - {{ product.name }}{% endblock %}
{% block content %}
    <div class="container mt-5">
        <div class="row">
            <div class="col-md-4 d-flex align-items-center">
                <img src="{{ asset('images/products/' ~ product.id ~ '.png') }}" alt="{{ product.name }}" class="img-fluid" />
            </div>
            <div class="col-md-8">
                <h3>{{ product.name }}</h3>
                <small>Symbol: {{ product.symbol }} </small>
                <h4 style='color:red;'>{{ product.category.name }}</h4>

                {% set formatted_price = product.price|format_currency('PLN') %}
                {% set currency_symbol = 'PLN' %}
                {% set price_value = formatted_price|replace({'PLN': ''})|trim %}
                <p class="lead">Price: {{ price_value }} {{ currency_symbol }}</p>
                <p>{{ product.description }}</p>

                <div class="form-inline mt-3">
                    <label for="qunatityInput" class="mr-2">Quantity:</label>
                    <div class="row">
                        <div class="col-3">
                            <input type="number" id="qunatityInput" name="qunatityInput" class="form-control mr-2" value="1" min="1" oninput="validity.valid||(value='');">
                        </div>
                    </div>
                    <button class="btn btn-primary mt-2" id="addToCartBtn" data-idproduct="{{product.id}}">Add to Cart</button>
                </div>
                <div class='mt-3 d-flex gap-3'> 
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-truck" viewBox="0 0 16 16">
                        <path d="M0 3.5A1.5 1.5 0 0 1 1.5 2h9A1.5 1.5 0 0 1 12 3.5V5h1.02a1.5 1.5 0 0 1 1.17.563l1.481 1.85a1.5 1.5 0 0 1 .329.938V10.5a1.5 1.5 0 0 1-1.5 1.5H14a2 2 0 1 1-4 0H5a2 2 0 1 1-3.998-.085A1.5 1.5 0 0 1 0 10.5v-7zm1.294 7.456A1.999 1.999 0 0 1 4.732 11h5.536a2.01 2.01 0 0 1 .732-.732V3.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .294.456zM12 10a2 2 0 0 1 1.732 1h.768a.5.5 0 0 0 .5-.5V8.35a.5.5 0 0 0-.11-.312l-1.48-1.85A.5.5 0 0 0 13.02 6H12v4zm-9 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm9 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/>
                    </svg>
                    <span style="font-size:20px;">Free delivery over PLN 250 </span>
                </div>
                <div class="mt-3">
                <div>
                    Opinions:
                    <span>&#9733;</span><span>&#9733;</span><span>&#9733;</span><span>&#9733;</span><span>&#9734;</span>
                    
                </div>
            </div>
            </div>
        </div>
    </div>
     <script>
        document.addEventListener("DOMContentLoaded", function() {
            const menuItem = document.getElementById("menuItemName");
            const menuItemCategory = document.getElementById("menuItemCategory");
            if (menuItem) {
                menuItem.textContent = "{{ product.name }}";
            }
            if (menuItemCategory) {
                const url = '{{ path("app_products_category", {"categoryId": product.category.id, "page": 1}) }}';
                menuItemCategory.innerHTML = `<a href="${url}">{{product.category.name}}</a>`;
            }
        });
    </script>
    
{% endblock %}